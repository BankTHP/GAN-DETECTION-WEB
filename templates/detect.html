<html>

<head>
    <title>GAN Detection</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
</head>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>GAN DETECTION</title>
    <link rel="icon" type="image/x-icon" href="../static/assets/favicon.png" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt&display=swap" rel="stylesheet">
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="static/css/styles.css" rel="stylesheet" />
</head>

<body id="page-top">
    <!-- Masthead-->
    <header class="masthead">
        <div class="container px-4 px-lg-5 d-flex h-100 align-items-center justify-content-center">
            <div class="d-flex justify-content-center">
                <div class="text-center">
                    <h1 class="mx-auto my-0 text-uppercase">Detect</h1>
                    <br>
                    <br>
                    {% if filename %}
                    <img src="{{ url_for('display_image', filename=filename) }}" 
                    style="height:350px; max-height: 350px; max-width:720px; width: 300px;"
                    >
                {% endif %}
                <br>
                <br>
                <br>
                <br>
            
                <form method="post" action="/detect" enctype="multipart/form-data">
                    <dl>
                        <p>
                            <input type="file" name="file" class="form-control" autocomplete="off" required>
                        </p>
                    </dl>
                    <p>
                        <input type="submit" value="Detect" class="btn btn-info">
                    </p>
                </form>
                {% if fake%}
                <p style="color:white" >Result : {{fake}}</p>
                
                <p style="color:white">Real : {{'%0.2f'| format(percent[0][1]*100|float)}} %</p>
                <p style="color:white">Fake : {{'%0.2f'| format(percent[0][0]*100|float)}} %</p>
             
                <div style="position: relative; height: 20px;">
                    <div style="position: absolute; left: 0; top: 0; height: 100%; width: {{percent[0][0]*100}}%; background-color: red;"></div>
                    <div style="position: absolute; left: {{percent[0][0]*100}}%; top: 0; height: 100%; width: {{percent[0][1]*100}}%; background-color: green;"></div>
                    <progress value="{{percent[0][0]*100}}" max="100" style="width: 100%;"></progress>
                  </div>
                {% endif %}
                </div>
            </div>
        </div>
    </header>
    <!-- Footer-->
    <footer class="footer bg-black small text-center text-white-50">
        <div class="container px-4 px-lg-5">Copyright &copy; SWU 2023</div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="static/js/scripts.js"></script>
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <!-- * *                               SB Forms JS                               * *-->
    <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    <div style="position: fixed; top: 25px; left: 25px; z-index: 900">
        <a href="javascript:history.back()">
            <img alt="Qries" src="static/assets/arrow-small-left.png" width=50" height="50">
        </a>
    </div>
</body>

</html>